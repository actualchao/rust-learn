# 数据类型

 Rust 是静态类型语言， 在编译时需要知道所有变量的类型。

有两类数据类型

* 标量类型
* 复合类型


## 标量类型

标量类型代表一个单独的值，类似于 js 中的值类型，在 Rust 中有以下几种标量类型

* 整形
* 浮点型
* 布尔型
* 字符型


#### 整形

长度	有符号  无符号
8-bit	i8      u8
16-bit	i16	    u16
32-bit	i32	    u32
64-bit	i64	    u64
128-bit	i128	u128
arch	isize	usize

tips： 有符号数通过 [补码形式（two’s complement representation） ](https://en.wikipedia.org/wiki/Two%27s_complement)存储


* 整形类型能存储的数字范围时 2^n -1
* 另外，isize 和 usize 类型依赖运行程序的计算机架构：64 位架构上它们是 64 位的， 32 位架构上它们是 32 位的。
* 可以通过数字字面量后缀来指定数字的类型 `57u8` ,代表着 `u8` 类型的整数57
* 允许插入分隔符方便读数 `100_000 = 100000` 


#### 浮点型

Rust 也有两个原生的 浮点数（floating-point numbers）类型，它们是带小数点的数字。Rust 的浮点数类型是 f32 和 f64，分别占 32 位和 64 位。默认类型是 f64，因为在现代 CPU 中，它与 f32 速度几乎一样，不过精度更高。所有的浮点型都是有符号的。

#### 数值运算 

+ - * / %

#### boolean

* true
* false

主要用于条件表达式

#### 字符类型

```rust
fn main() {
    // char 类型
    let c = 'z';
    let z = 'ℤ';
    let heart_eyed_cat = '😻';

    // String
    let a = "z"
}
```

## 复合类型

复合类型是将多个值组合成一个类型， Rust 中有两个原生的复合类型

* 元组 tuple
* 数组 array

#### 元组类型

* 元组长度固定， 一旦声明长度不会增大减小
* 支持解构
* 支持索引访问， 索引从0 开始

```rust
fn main () {
    // 声明元组
    let tup : (u32, u8) = (12, 12);
    // 解构元组
    let (x, y) = tup;
    // 索引访问
    let v = tup.0;

}
```

tips： 没有任何值的元组 () 是一种特殊的类型，只有一个值，也写成 () 。该类型被称为 单元类型（unit type），而该值被称为 单元值（unit value）。如果表达式不返回任何其他值，则会隐式返回单元值。



### 数组类型 array

* rust 中数组长度固定
* 标准库提供 vector 类型， 是一个允许长度增长和缩小长度的类似数组的集合类型。
* 数组是可以在堆栈上分配的已知固定大小的单个内存块。可以使用索引来访问数组的元素
* 数组越界会触发 panic ,程序运行时检查错误而退出

```rust
fn main() {
    // length 为 4
    let a = [1, 2, 3, 4];

    // 长度为5 类型u32
    let b: [u32: 5] = [0, 1, 2, 3, 4]

    // 5个3 组成的数组
    let c = [3; 5]

    // 通过索引访问值
    let d = c[0]

    // 数组越界，触发panic
    let e = c[3]

}
```